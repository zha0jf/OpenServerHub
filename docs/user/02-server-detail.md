# 服务器详情界面使用指南

服务器详情界面提供了对单个服务器的详细信息查看和管理功能，包括状态监控、电源控制、定位灯控制等。

## 界面概览

进入服务器详情界面后，您将看到以下几个主要区域：

### 1. 头部区域
- **返回按钮**：返回服务器列表页面
- **服务器名称**：显示当前服务器的名称
- **编辑按钮**：编辑服务器基本信息
- **删除按钮**：删除当前服务器

### 2. 状态卡片区域
显示服务器的关键状态信息和控制选项：

#### BMC状态卡片
- 显示服务器BMC（基板管理控制器）的连接状态
- 图标颜色表示状态：
  - 绿色：在线
  - 灰色：离线
  - 黄色：未知
  - 红色：错误
- **刷新按钮**：手动刷新BMC状态

#### 电源状态卡片
- 显示服务器当前电源状态（开机/关机/未知）
- 根据服务器状态显示相应的控制按钮：
  - **开机按钮**：仅当服务器关机且BMC在线时显示
  - **关机按钮**：仅当服务器开机且BMC在线时显示
  - **重启按钮**：仅当服务器开机且BMC在线时显示
  - **强制关机按钮**：仅当服务器开机且BMC在线时显示
  - **强制重启按钮**：仅当服务器开机且BMC在线时显示
- **刷新按钮**：手动刷新电源状态

#### 监控状态卡片
- 显示服务器监控是否启用
- 图标表示状态：
  - 绿色眼睛：监控已启用
  - 灰色眼睛带斜线：监控未启用
- **切换按钮**：启用或禁用服务器监控

#### Redfish状态卡片
- 显示服务器是否支持Redfish协议
- 图标颜色表示支持情况：
  - 绿色：支持
  - 红色：不支持
  - 黄色：未知

#### 定位灯卡片
- 显示服务器定位灯状态
- 图标表示状态：
  - 亮黄色灯泡：定位灯已开启
  - 灰色灯泡：定位灯已关闭
  - 黄色问号：不支持或状态未知
- 控制按钮：
  - **开启按钮**：当定位灯关闭时显示
  - **关闭按钮**：当定位灯开启时显示
- **刷新按钮**：手动刷新定位灯状态

### 3. 基本信息卡片
显示服务器的详细配置信息：
- 服务器名称
- IPMI地址和端口
- IPMI用户名
- 生产厂商和服务器型号
- 序列号
- 所属分组（可编辑）

### 4. 时间信息卡片
显示服务器相关的时间信息：
- 最后更新时间
- 创建时间
- 更新时间

### 5. 附加信息卡片（可选）
显示服务器的描述信息和标签。

## 功能操作说明

### 电源控制
1. 确保服务器BMC状态为在线
2. 根据当前电源状态选择相应操作：
   - 开机：点击绿色开机按钮
   - 关机：点击红色关机按钮
   - 重启：点击蓝色重启按钮
   - 强制关机：点击深红色强制关机按钮
   - 强制重启：点击深橙色强制重启按钮
3. 系统将自动刷新服务器状态

### 定位灯控制
1. 确保服务器支持Redfish协议且BMC在线
2. 根据当前定位灯状态选择操作：
   - 开启定位灯：点击灰色灯泡按钮
   - 关闭定位灯：点击黄色灯泡按钮
3. 系统将自动刷新定位灯状态

### 监控管理
1. 点击监控状态卡片中的眼睛图标按钮
2. 系统将切换监控状态并自动刷新显示

### 分组管理
1. 在基本信息卡片的"所属分组"项中点击编辑图标
2. 在弹出的对话框中选择新的分组或"未分组"
3. 点击"确定"保存更改

## 状态说明

### BMC状态
- **在线**：可以正常连接到服务器的BMC
- **离线**：无法连接到服务器的BMC
- **未知**：无法确定BMC连接状态
- **错误**：连接BMC时发生错误

### 电源状态
- **开机**：服务器处于开机状态
- **关机**：服务器处于关机状态
- **未知**：无法确定服务器电源状态

### 定位灯状态
- **已开启**：定位灯处于点亮状态
- **已关闭**：定位灯处于关闭状态
- **闪烁**：定位灯处于闪烁状态
- **未知**：无法确定定位灯状态

## 注意事项

1. **操作前提**：大部分控制操作都需要服务器BMC处于在线状态
2. **状态刷新**：执行电源控制操作后，系统会自动刷新服务器状态
3. **权限要求**：所有操作都需要管理员权限
4. **安全提醒**：强制关机和强制重启可能导致数据丢失，请谨慎使用

## 故障排除

### 无法执行电源控制
- 检查BMC状态是否为在线
- 确认IPMI配置是否正确
- 检查网络连接是否正常

### 定位灯控制不可用
- 确认服务器是否支持Redfish协议
- 检查BMC状态是否为在线

### 状态显示不更新
- 点击相应的刷新按钮手动刷新状态
- 检查服务器是否正常响应请求